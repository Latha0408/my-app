node {
    stage('scm checkout'){
    git 'https://github.com/ravi-dev/my-app'  
    }
    stage('compile package'){
    //get maven path
    def mvnhome = tool name: 'maven3', type: 'maven'
    sh "${mvnhome}/bin/mvn package"
    }
    stage('deploy package'){
    //get tomcat path
    sshagent(['tomcat-dev']){
      sh 'ssh -o StrictHostKeyChecking=no target/*.war ec2-user@15.206.146.49:/root/etc/tomcat8/webapps'
    }
}
